{% extends "blog/layout.html" %}

{% block extra_body %}
    <script>
        $(function() {
            $('#page-2-btn').click(function(){
                $.get('?page=2') /*?만 쓰면 현재url에 get 인자만 변경되어 호출 */
                .done(function(html) {
                    console.log(html);
                    $('#post-list-wrapper').html(html);

                    var state_obj = {}; // pushState 후에 history.state로 접근 가능
                    var title = "";
                    var url = "?page=2"; // 이동할 URL
                    history.pushState(state_obj, title, url);
                })
                .fail(function() {
                    console.log('fail');
                })
                .always(function() {
                    console.log('always');
                });
                return false;
            });
        });
    </script>
{% endblock %}

{% block content %}

<div class="container">
    <div class="row">
        <div class="col-sm-12" id="post-list-wrapper">
            {% include "blog/_post_list.html" %}
        </div>
    </div>
</div>

{% endblock %}
